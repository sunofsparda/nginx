server {
        listen	8080 default_server;
       # listen       somename:8080;
        server_name	192.168.122.103;

	#redirect MUST be at different server block
	return 301 https://$server_name$request_uri; 

	}

server {	
	listen	8443 ssl;
#	server_name	192.168.122.103;
	ssl_certificate server.crt;
	ssl_certificate_key server.key;

	
#### proxy
#	location /uri {
#	proxy_pass http://localhost:8080$;
#	}



        location / {
            root   html;
            index  index.html index.htm;
        }
	
	location /pictures	{
#	location /pictures/	{ # for using with root 
#	location /p		{ # why it works?
#	location /pic		{ # why it works?
#	location /pictures	{ # why it works?

#	root html/resources;
	alias html/resources/pictures;
	}
	
	location /admin {
#	root html; # how to make with 'root'? 
	alias html;
	index admin.html;
	auth_basic "restricted";
	auth_basic_user_file .htpasswd;
	}

#deny access to .ht*  if nginx's document root concurs with nginx's one  
	location ~ /\.ht {
	deny all;
	}
	
	location /status {
	allow 127.0.0.1;
	allow 192.168.122.1;
	deny all;
	vhost_traffic_status_display;
	vhost_traffic_status_display_format html;
   	}

	error_page 404 = /404.html;
	error_page 500 502 503 504 /50x.html;

	 

}
